{# Exposed search input string #}

{{ 'Search results'|t }}
{% if exposed_input.search_api_fulltext is not empty %}
  {{ 'for'|t }} <em>"{{ exposed_input.search_api_fulltext }}"</em>
{% endif %}

{% if exposed_input.from is not empty %}
  {{ 'from'|t }} <em>{{ exposed_input.from }}</em>
{% endif %}

{% if exposed_input.from is empty and exposed_input.to is not empty %}
  {{ ' from the beginning '|t }}
{% endif %}

{% if exposed_input.to is not empty %}
  {{ 'to'|t }} <em>{{ exposed_input.from }}</em>
{% endif %}

{% if exposed_input.from is not empty and exposed_input.to is empty %}
  {{ ' to <em>today</em>'|t }}
{% endif %}

{% if exposed_input.speaker is not empty %}
  {{ 'by'|t }} <em>{{ exposed_input.speaker }}</em>
{% endif %}

{% if exposed_input.field_scientific_area is not empty and
  exposed_input.field_scientific_area != "All" %}
  {{ 'in'|t }}
  {% set num_terms = exposed_input.field_scientific_area|length %}
  {% set sa_terms = [] %}
  {% set count = 1 %}

  {% for key, tid in exposed_input.field_scientific_area %}
    {# add some connecting text for multiple values #}
    {% if (count == num_terms) and (count != 1) %}
      {{ 'and'|t }}
    {% elseif (num_terms > 2) and (count < num_terms ) and (count != 1) %}
    {{ ',' }}
    {% endif %}

    {% set sa_term = drupal_entity('taxonomy_term', tid) %}
    <em>{{ sa_term['#taxonomy_term'].name.0.value }}</em>
    {% set count = count + 1 %}
  {% endfor %}
{% endif %}

{# Need to get the term name from this tid #}
{% if exposed_input.type is not empty and  exposed_input.type != "All" %}

  {{ 'in'|t }}
  {% set num_terms = exposed_input.type|length %}
  {% set sa_terms = [] %}
  {% set count = 1 %}
  {% for key, tid in exposed_input.type %}
    {# add some connecting text for multiple values #}
    {% if (count == num_terms) and (count != 1) %}
      {{ 'and'|t }}
    {% elseif (num_terms > 2) and (count < num_terms ) and (count != 1) %}
      {{ ',' }}
    {% endif %}

    {% set type_term = drupal_entity('taxonomy_term', tid) %}
    <em>{{ type_term['#taxonomy_term'].name.0.value }}</em>
    {% set count = count + 1 %}
  {% endfor %}




{% endif %}
